<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xzsd.pc.menu.dao.MenuDao">
    <!--展示菜单-->
    <select id="listMenu" resultType="com.xzsd.pc.menu.entity.MenuInfo">
        select
            menu_id,
            menu_name
        from t_menu
    </select>
    <!--新增菜单-->
    <insert id="saveMenu" parameterType="com.xzsd.pc.menu.entity.MenuInfo">
        insert into
            t_menu
        set menu_id = #{menuId},
            menu_name = #{menuName},
            route = #{route},
            remark = #{remark},
            version = 0,
            is_deleted = 0
    </insert>
    <!--删除菜单-->
    <update id="deleteMenu" parameterType="java.lang.String">
        update t_menu
        set is_deleted = 1
        where menu_id = #{menuId}
    </update>

    <!--更新菜单-->
    <update id="updateMenu" parameterType="com.xzsd.pc.menu.entity.MenuInfo">
        update t_menu
        set menu_name = #{menuName},
            version = #{version},
            remark = #{remark},
            route = #{route},
            version = version +1
        where menu_id =#{menuId}
        and version = #{version}
    </update>

</mapper>